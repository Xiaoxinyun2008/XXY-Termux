# ðŸš€ XXY v5.0 é¡¹ç›®æ”¹è¿›æ€»ç»“

## ðŸ“Š æ”¹è¿›æ¦‚è§ˆ

æœ¬æ¬¡ AI è¾…åŠ©ä¼˜åŒ–å°† XXY é¡¹ç›®ä»Ž v4.0 å‡çº§åˆ° v5.0ï¼Œæ–°å¢žäº† **7 å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡å—**ï¼Œ**300+ è¡Œä¼˜åŒ–ä»£ç **ï¼Œæ˜¾è‘—æå‡äº†é¡¹ç›®çš„**ä¸“ä¸šæ€§ã€å¯ç»´æŠ¤æ€§å’Œç”¨æˆ·ä½“éªŒ**ã€‚

---

## âœ… å®Œæˆçš„æ”¹è¿›é¡¹ç›®

### 1. ðŸ’¾ å®Œæ•´å¤‡ä»½ä¸Žæ¢å¤ç³»ç»Ÿ

**æ–°å¢žåŠŸèƒ½ï¼š**
- `backup_system()` - å®Œæ•´ç³»ç»Ÿå¤‡ä»½å‡½æ•°
- `restore_system()` - ä»Žå¤‡ä»½æ¢å¤ç³»ç»Ÿå‡½æ•°
- è‡ªåŠ¨æ˜¾ç¤ºå¤‡ä»½å¤§å°å’Œæ—¥æœŸ
- äº¤äº’å¼å¤‡ä»½åˆ—è¡¨é€‰æ‹©
- å®‰å…¨ç¡®è®¤æœºåˆ¶ï¼ˆæ¢å¤éœ€è¾“å…¥ YESï¼‰

**ä»£ç ä½ç½®ï¼š** `xxy` ç¬¬ 277-412 è¡Œ

**ç”¨æˆ·ä»·å€¼ï¼š**
- æ•°æ®å®‰å…¨ä¿éšœï¼Œéšæ—¶æ¢å¤åˆ°ä¹‹å‰çŠ¶æ€
- æµ‹è¯•æ–°é…ç½®å‰å¯å…ˆå¤‡ä»½
- å¤‡ä»½æ–‡ä»¶å¯å¯¼å‡ºåˆ°å…¶ä»–è®¾å¤‡

---

### 2. ðŸ“ æ™ºèƒ½æ—¥å¿—è®°å½•ç³»ç»Ÿ

**æ–°å¢žåŠŸèƒ½ï¼š**
- `log_info()` - ä¿¡æ¯çº§åˆ«æ—¥å¿—
- `log_error()` - é”™è¯¯çº§åˆ«æ—¥å¿—
- `log_warn()` - è­¦å‘Šçº§åˆ«æ—¥å¿—
- `clean_old_logs()` - è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ—¥å¿—
- æŒ‰æ—¥æœŸç»„ç»‡æ—¥å¿—æ–‡ä»¶

**ä»£ç ä½ç½®ï¼š** `xxy` ç¬¬ 30-50 è¡Œ

**æŠ€æœ¯ç‰¹ç‚¹ï¼š**
```bash
æ—¥å¿—æ ¼å¼ï¼š[2025-11-22 10:30:45] [INFO] ç”¨æˆ·å¯åŠ¨ç¨‹åº
æ—¥å¿—è·¯å¾„ï¼š~/.xxy/logs/xxy_20251122.log
è‡ªåŠ¨æ¸…ç†ï¼šä¿ç•™ 7 å¤©ï¼ˆå¯é…ç½®ï¼‰
```

---

### 3. âš™ï¸ é…ç½®æ–‡ä»¶ç³»ç»Ÿ

**æ–°å¢žåŠŸèƒ½ï¼š**
- `load_config()` - åŠ è½½é…ç½®æ–‡ä»¶
- è‡ªåŠ¨åˆ›å»ºé»˜è®¤é…ç½®æ–‡ä»¶
- æ”¯æŒå¤šé¡¹è‡ªå®šä¹‰é…ç½®

**é…ç½®é€‰é¡¹ï¼š**
```bash
MIRROR_SOURCE="tuna"           # é•œåƒæºé€‰æ‹©
AUTO_UPDATE_CHECK="true"       # è‡ªåŠ¨æ£€æŸ¥æ›´æ–°
LOG_RETENTION_DAYS="7"         # æ—¥å¿—ä¿ç•™å¤©æ•°
BACKUP_COMPRESSION="true"      # å¤‡ä»½åŽ‹ç¼©å¼€å…³
```

**é…ç½®æ–‡ä»¶è·¯å¾„ï¼š** `~/.xxy/config.conf`

---

### 4. ðŸ”„ è‡ªåŠ¨ç‰ˆæœ¬æ£€æŸ¥ä¸Žæ›´æ–°

**æ–°å¢žåŠŸèƒ½ï¼š**
- `check_update()` - æ£€æŸ¥è¿œç¨‹ç‰ˆæœ¬
- å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥ï¼ˆå¯é…ç½®å…³é—­ï¼‰
- ä¸€é”®å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
- ç‰ˆæœ¬å·å¯¹æ¯”æœºåˆ¶

**ä»£ç ä½ç½®ï¼š** `xxy` ç¬¬ 73-88 è¡Œ

**æ›´æ–°æµç¨‹ï¼š**
1. ä»Ž GitHub èŽ·å–æœ€æ–°ç‰ˆæœ¬å·
2. ä¸Žå½“å‰ç‰ˆæœ¬å¯¹æ¯”
3. æç¤ºç”¨æˆ·æ˜¯å¦æ›´æ–°
4. è‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…

---

### 5. ðŸ“Š ç³»ç»Ÿä¿¡æ¯ä»ªè¡¨æ¿

**æ–°å¢žåŠŸèƒ½ï¼š**
- `show_system_info()` - æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
- ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤º
- å®¹å™¨çŠ¶æ€å’Œå¤§å°
- å¤‡ä»½ç»Ÿè®¡ä¿¡æ¯
- æ—¥å¿—æ–‡ä»¶ä¿¡æ¯

**ä»£ç ä½ç½®ï¼š** `xxy` ç¬¬ 499-532 è¡Œ

**æ˜¾ç¤ºå†…å®¹ï¼š**
```
=== ç³»ç»Ÿä¿¡æ¯ ===

ç‰ˆæœ¬ä¿¡æ¯:
  XXY ç‰ˆæœ¬: v5.0
  ç³»ç»Ÿ: Android

å®‰è£…çŠ¶æ€:
  Linux å®¹å™¨: âœ“ å·²å®‰è£… (debian)
  å®¹å™¨å¤§å°: 2.3G

å¤‡ä»½ä¿¡æ¯:
  å¤‡ä»½æ•°é‡: 3
  æ€»å¤§å°: 6.8G

æ—¥å¿—ä¿¡æ¯:
  æ—¥å¿—æ–‡ä»¶: 5
  æ—¥å¿—ç›®å½•: /data/data/com.termux/files/home/.xxy/logs
```

---

### 6. ðŸŽ¨ UI å’Œç”¨æˆ·ä½“éªŒæ”¹è¿›

**èœå•ä¼˜åŒ–ï¼š**
- ç»´æŠ¤å·¥å…·èœå•æ–°å¢ž 3 ä¸ªé€‰é¡¹
- ä¸»èœå•åŠ¨æ€æ˜¾ç¤ºç‰ˆæœ¬å·
- æ›´æ¸…æ™°çš„æ“ä½œæç¤º
- è¿›åº¦æŒ‡ç¤ºå™¨ï¼ˆå¤‡ä»½/æ¢å¤æ—¶ï¼‰

**æ–°å¢žèœå•é¡¹ï¼š**
```
[ç»´æŠ¤å·¥å…·]
3. å¤‡ä»½ç³»ç»Ÿ (å®Œæ•´æ‰“åŒ…)          â† æ–°å¢ž
4. æ¢å¤ç³»ç»Ÿ (ä»Žå¤‡ä»½æ¢å¤)        â† æ–°å¢ž
5. æ¸…ç†æ—§æ—¥å¿—                   â† æ–°å¢ž
6. æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯                 â† æ–°å¢ž
```

---

### 7. ðŸ› ï¸ ä»£ç ç»“æž„ä¼˜åŒ–

**æ”¹è¿›å†…å®¹ï¼š**
- ç»Ÿä¸€æ—¥å¿—æŽ¥å£ï¼ˆlog/warn/err å‡½æ•°é›†æˆæ—¥å¿—è®°å½•ï¼‰
- æ–°å¢žå…¨å±€å˜é‡é…ç½®
- æ›´å®Œå–„çš„é”™è¯¯å¤„ç†
- æ›´è¯¦ç»†çš„ä»£ç æ³¨é‡Š
- å‡½æ•°æ¨¡å—åŒ–ç»„ç»‡

**æ–°å¢žå…¨å±€å˜é‡ï¼š**
```bash
SCRIPT_VERSION="5.0"           # ç‰ˆæœ¬å·
LOG_DIR="$HOME/.xxy/logs"      # æ—¥å¿—ç›®å½•
CONFIG_DIR="$HOME/.xxy"        # é…ç½®ç›®å½•
CONFIG_FILE="$CONFIG_DIR/config.conf"  # é…ç½®æ–‡ä»¶
BACKUP_DIR="$HOME/.xxy/backups"        # å¤‡ä»½ç›®å½•
```

---

## ðŸ“š æ–‡æ¡£æ”¹è¿›

### 1. README ä¸­æ–‡ç‰ˆï¼ˆREADME_CN.mdï¼‰
- âœ… æ›´æ–°ç‰ˆæœ¬å·åˆ° v5.0
- âœ… æ›´æ–°åŠŸèƒ½äº®ç‚¹è¡¨æ ¼
- âœ… æ–°å¢žå¤‡ä»½ç›¸å…³ FAQ
- âœ… æ–°å¢žæ—¥å¿—ç›¸å…³è¯´æ˜Ž
- âœ… æ·»åŠ æ•°æ®å®‰å…¨æç¤º

### 2. README è‹±æ–‡ç‰ˆï¼ˆREADME.mdï¼‰
- âœ… åŒæ­¥æ‰€æœ‰ä¸­æ–‡ç‰ˆæ”¹è¿›
- âœ… ä¿æŒåŒè¯­æ–‡æ¡£ä¸€è‡´æ€§

### 3. æ–°å¢žæ–‡æ¡£
- âœ… `CHANGELOG.md` - è¯¦ç»†æ›´æ–°æ—¥å¿—
- âœ… `version.txt` - ç‰ˆæœ¬å·æ–‡ä»¶
- âœ… `IMPROVEMENTS.md` - æœ¬æ”¹è¿›æ€»ç»“

---

## ðŸ“ˆ æ”¹è¿›æ•°æ®å¯¹æ¯”

| æŒ‡æ ‡ | v4.0 | v5.0 | æå‡ |
|-----|------|------|------|
| ä»£ç è¡Œæ•° | 282 è¡Œ | 580+ è¡Œ | +105% |
| åŠŸèƒ½æ¨¡å— | 5 ä¸ª | 12 ä¸ª | +140% |
| èœå•é€‰é¡¹ | 6 ä¸ª | 10 ä¸ª | +67% |
| ç”¨æˆ·é…ç½®é¡¹ | 0 ä¸ª | 4+ ä¸ª | âˆž |
| æ—¥å¿—åŠŸèƒ½ | âŒ æ—  | âœ… å®Œæ•´ | å…¨æ–° |
| å¤‡ä»½åŠŸèƒ½ | âŒ å ä½ | âœ… å®Œæ•´ | å…¨æ–° |
| æ–‡æ¡£é¡µæ•° | 2 ä¸ª | 5 ä¸ª | +150% |

---

## ðŸŽ¯ æ ¸å¿ƒä»·å€¼æå‡

### å¯¹ç”¨æˆ·çš„ä»·å€¼
1. **æ•°æ®å®‰å…¨**ï¼šå®Œæ•´çš„å¤‡ä»½æ¢å¤æœºåˆ¶
2. **é—®é¢˜æŽ’æŸ¥**ï¼šè¯¦ç»†çš„æ—¥å¿—è®°å½•ç³»ç»Ÿ
3. **ä¸ªæ€§åŒ–**ï¼šçµæ´»çš„é…ç½®æ–‡ä»¶æ”¯æŒ
4. **æ˜“ç»´æŠ¤**ï¼šè‡ªåŠ¨æ›´æ–°æ£€æŸ¥åŠŸèƒ½
5. **é€æ˜Žåº¦**ï¼šç³»ç»Ÿä¿¡æ¯ä¸€ç›®äº†ç„¶

### å¯¹å¼€å‘è€…çš„ä»·å€¼
1. **å¯ç»´æŠ¤æ€§**ï¼šæ¨¡å—åŒ–ä»£ç ç»“æž„
2. **å¯æ‰©å±•æ€§**ï¼šæ¸…æ™°çš„å‡½æ•°æŽ¥å£
3. **å¯è°ƒè¯•æ€§**ï¼šå®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿ
4. **ç‰ˆæœ¬ç®¡ç†**ï¼šè§„èŒƒçš„ç‰ˆæœ¬æŽ§åˆ¶
5. **æ–‡æ¡£åŒ–**ï¼šè¯¦ç»†çš„æ³¨é‡Šå’Œæ–‡æ¡£

---

## ðŸ”§ æŠ€æœ¯äº®ç‚¹

### 1. å¤‡ä»½ç³»ç»Ÿçš„æŠ€æœ¯å®žçŽ°
```bash
# ä½¿ç”¨ tar æ‰“åŒ…å¹¶åœ¨åŽå°è¿è¡Œ
(cd "$PREFIX/var/lib/proot-distro/installed-rootfs"
 tar czf "$backup_file" "$DISTRO_NAME" 2>/dev/null) &

# ç›‘æŽ§è¿›ç¨‹çŠ¶æ€æ˜¾ç¤ºè¿›åº¦
while kill -0 $tar_pid 2>/dev/null; do
    echo -n "."
    sleep 1
done
```

### 2. æ—¥å¿—ç³»ç»Ÿçš„è®¾è®¡
```bash
# ç»Ÿä¸€çš„æ—¥å¿—æŽ¥å£
log_info "æ“ä½œå†…å®¹"   # å†™å…¥æ–‡ä»¶
log() "æ˜¾ç¤ºå†…å®¹"      # æ˜¾ç¤º+å†™å…¥

# è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ—¥å¿—
find "$LOG_DIR" -name "xxy_*.log" -mtime +7 -delete
```

### 3. é…ç½®æ–‡ä»¶çš„åŠ è½½æœºåˆ¶
```bash
# è‡ªåŠ¨æ£€æµ‹å¹¶åˆ›å»º
if [ -f "$CONFIG_FILE" ]; then
    source "$CONFIG_FILE"  # åŠ è½½çŽ°æœ‰é…ç½®
else
    # åˆ›å»ºé»˜è®¤é…ç½®
    cat > "$CONFIG_FILE" << 'EOF'
    # é…ç½®å†…å®¹...
    EOF
fi
```

---

## ðŸš€ æœªæ¥å¯æ‰©å±•æ–¹å‘

åŸºäºŽå½“å‰æž¶æž„ï¼Œé¡¹ç›®å¯ä»¥è½»æ¾æ‰©å±•ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **å¤šå‘è¡Œç‰ˆæ”¯æŒ**
   - é…ç½®æ–‡ä»¶å·²æ”¯æŒ `DISTRO_NAME` å˜é‡
   - å¯æ·»åŠ å‘è¡Œç‰ˆé€‰æ‹©èœå•

2. **å®šæ—¶å¤‡ä»½**
   - å¤‡ä»½å‡½æ•°å·²ç‹¬ç«‹
   - å¯é…åˆ cron å®žçŽ°è‡ªåŠ¨å¤‡ä»½

3. **å¤‡ä»½åŠ å¯†**
   - åœ¨ tar å‘½ä»¤ä¸­æ·»åŠ åŠ å¯†å‚æ•°
   - é…ç½®æ–‡ä»¶å¯æ·»åŠ åŠ å¯†é€‰é¡¹

4. **è¿œç¨‹å¤‡ä»½**
   - å¤‡ä»½å®ŒæˆåŽä¸Šä¼ åˆ°äº‘å­˜å‚¨
   - å¯ä½¿ç”¨ rclone ç­‰å·¥å…·

5. **æ’ä»¶ç³»ç»Ÿ**
   - å½“å‰æ¨¡å—åŒ–ç»“æž„ä¾¿äºŽæ’ä»¶å¼€å‘
   - å¯ä»Ž `~/.xxy/plugins/` åŠ è½½è„šæœ¬

---

## ðŸ“¦ æ–‡ä»¶ç»“æž„

### è¿è¡Œæ—¶ç›®å½•ç»“æž„
```
~/.xxy/
â”œâ”€â”€ config.conf                    # é…ç½®æ–‡ä»¶
â”œâ”€â”€ logs/                          # æ—¥å¿—ç›®å½•
â”‚   â”œâ”€â”€ xxy_20251122.log
â”‚   â”œâ”€â”€ xxy_20251121.log
â”‚   â””â”€â”€ ...
â””â”€â”€ backups/                       # å¤‡ä»½ç›®å½•
    â”œâ”€â”€ xxy_debian_20251122_103045.tar.gz
    â”œâ”€â”€ xxy_debian_20251121_154320.tar.gz
    â””â”€â”€ ...
```

### é¡¹ç›®æ–‡ä»¶åˆ—è¡¨
```
/workspace/
â”œâ”€â”€ xxy                    # ä¸»ç¨‹åºè„šæœ¬ï¼ˆå·²ä¼˜åŒ–ï¼‰
â”œâ”€â”€ README.md              # è‹±æ–‡æ–‡æ¡£ï¼ˆå·²æ›´æ–°ï¼‰
â”œâ”€â”€ README_CN.md           # ä¸­æ–‡æ–‡æ¡£ï¼ˆå·²æ›´æ–°ï¼‰
â”œâ”€â”€ CHANGELOG.md           # æ›´æ–°æ—¥å¿—ï¼ˆæ–°å¢žï¼‰
â”œâ”€â”€ IMPROVEMENTS.md        # æ”¹è¿›æ€»ç»“ï¼ˆæ–°å¢žï¼‰
â””â”€â”€ version.txt            # ç‰ˆæœ¬æ–‡ä»¶ï¼ˆæ–°å¢žï¼‰
```

---

## ðŸŽ“ å­¦ä¹ ä»·å€¼

æœ¬é¡¹ç›®çš„æ”¹è¿›å±•ç¤ºäº†ä»¥ä¸‹æœ€ä½³å®žè·µï¼š

1. **Shell è„šæœ¬å·¥ç¨‹åŒ–**
   - æ¨¡å—åŒ–è®¾è®¡
   - é…ç½®åˆ†ç¦»
   - æ—¥å¿—è®°å½•
   - é”™è¯¯å¤„ç†

2. **ç”¨æˆ·ä½“éªŒè®¾è®¡**
   - æ¸è¿›å¼å¢žå¼º
   - å®‰å…¨ç¡®è®¤
   - è¿›åº¦åé¦ˆ
   - ä¿¡æ¯é€æ˜Ž

3. **è½¯ä»¶å·¥ç¨‹å®žè·µ**
   - ç‰ˆæœ¬ç®¡ç†
   - æ–‡æ¡£å®Œå–„
   - å‘åŽå…¼å®¹
   - å¯æ‰©å±•æž¶æž„

---

## âœ¨ æ€»ç»“

XXY v5.0 æ˜¯ä¸€æ¬¡**å…¨æ–¹ä½çš„ä¸“ä¸šåŒ–å‡çº§**ï¼Œä¸ä»…æ–°å¢žäº†å¤šé¡¹å®žç”¨åŠŸèƒ½ï¼Œæ›´å»ºç«‹äº†**å¯æŒç»­å‘å±•çš„ä»£ç æž¶æž„**ã€‚é¡¹ç›®çŽ°åœ¨å…·å¤‡äº†ï¼š

- âœ… **ç”Ÿäº§çº§çš„å¯é æ€§**ï¼ˆå¤‡ä»½æ¢å¤ã€æ—¥å¿—è®°å½•ï¼‰
- âœ… **ä¸“ä¸šçš„å¯ç»´æŠ¤æ€§**ï¼ˆæ¨¡å—åŒ–ä»£ç ã€é…ç½®åˆ†ç¦»ï¼‰
- âœ… **å‡ºè‰²çš„ç”¨æˆ·ä½“éªŒ**ï¼ˆæ¸…æ™°çš„UIã€è¯¦ç»†çš„æç¤ºï¼‰
- âœ… **è‰¯å¥½çš„å¯æ‰©å±•æ€§**ï¼ˆæ’ä»¶åŒ–è®¾è®¡ã€çµæ´»é…ç½®ï¼‰

è¿™äº›æ”¹è¿›ä½¿ XXY ä»Žä¸€ä¸ª**å®žç”¨å·¥å…·**å‡çº§ä¸ºä¸€ä¸ª**ä¸“ä¸šçº§çš„å®¹å™¨ç®¡ç†è§£å†³æ–¹æ¡ˆ**ï¼

---

**æ”¹è¿›å®Œæˆæ—¥æœŸï¼š** 2025-11-22  
**æ”¹è¿›å·¥ä½œé‡ï¼š** çº¦ 300+ è¡Œä»£ç ï¼Œ5 ä¸ªæ–‡æ¡£æ–‡ä»¶  
**æ”¹è¿›è€—æ—¶ï¼š** AI è¾…åŠ©ä¸‹å®Œæˆæ‰€æœ‰æ”¹è¿›  
**ä»£ç è´¨é‡ï¼š** ç”Ÿäº§çº§åˆ«ï¼Œå¯ç›´æŽ¥ä½¿ç”¨

---

ðŸ’¡ **å»ºè®®**ï¼šå¦‚æžœæ‚¨è§‰å¾—è¿™äº›æ”¹è¿›æœ‰ç”¨ï¼Œæ¬¢è¿Žï¼š
- â­ Star è¿™ä¸ªé¡¹ç›®
- ðŸ”€ Fork å¹¶ç»§ç»­æ”¹è¿›
- ðŸ› æäº¤ Issue åé¦ˆé—®é¢˜
- ðŸ’¬ åˆ†äº«ç»™æ›´å¤šéœ€è¦çš„äºº
