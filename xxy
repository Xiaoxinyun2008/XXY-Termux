cat > $PREFIX/bin/xxy << 'EOF'
#!/bin/bash
# ==============================================================================
# PROJECT: XXY (ULTIMATE EDITION v30.0)
# AUTHOR: XXY Team
# CORE: PHYSICAL FS QUERY (0ms Latency) | FOOLPROOF | AUTO-FETCH
# ==============================================================================

# --- 0. ä¾èµ–è‡ªæ£€ (é¦–æ¬¡è¿è¡Œè‡ªåŠ¨è¡¥å…¨) ---
if ! command -v proot-distro &>/dev/null; then
    echo "æ­£åœ¨åˆå§‹åŒ–ç¯å¢ƒ(é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½ä¾èµ–)..."
    pkg update -y && pkg install proot-distro pulseaudio wget curl -y
fi

# --- ğŸ¨ é¢œè‰²å®šä¹‰ ---
R='\033[1;31m'; G='\033[1;32m'; Y='\033[1;33m'
B='\033[1;34m'; P='\033[1;35m'; C='\033[1;36m'
W='\033[1;37m'; GR='\033[1;90m'; NC='\033[0m'

# --- ğŸ§  ç‰©ç†æ ¸å¿ƒï¼šæ–‡ä»¶ç³»ç»Ÿæ‰«æ (æé€Ÿæ£€æµ‹) ---
get_installed_systems() {
    ROOTFS_DIR="$PREFIX/var/lib/proot-distro/installed-rootfs"
    if [ -d "$ROOTFS_DIR" ] && [ "$(ls -A $ROOTFS_DIR)" ]; then
        ls "$ROOTFS_DIR"
    else
        echo ""
    fi
}

# --- ğŸ”§ ä¸‡èƒ½æ‰§è¡Œå¼•æ“ (è§£å†³å¼•å·åµŒå¥—/è·¨ç³»ç»Ÿé—®é¢˜) ---
create_worker_script() {
    cat > $PREFIX/tmp/xxy_worker.sh << 'WORKER_EOF'
#!/bin/sh
task=$1
# æ™ºèƒ½è¯†åˆ«åŒ…ç®¡ç†å™¨
if command -v apt >/dev/null; then PM="apt"; INSTALL="apt install -y"; UPDATE="apt update -y";
elif command -v pacman >/dev/null; then PM="pacman"; INSTALL="pacman -S --noconfirm"; UPDATE="pacman -Sy --noconfirm";
elif command -v apk >/dev/null; then PM="apk"; INSTALL="apk add"; UPDATE="apk update";
elif command -v dnf >/dev/null; then PM="dnf"; INSTALL="dnf install -y"; UPDATE="dnf check-update";
else echo "Unknown PM"; exit 1; fi

case "$task" in
    update) $UPDATE ;;
    install_gui)
        if [ "$PM" = "apt" ]; then DEBIAN_FRONTEND=noninteractive $INSTALL xfce4 xfce4-goodies dbus-x11;
        elif [ "$PM" = "apk" ]; then $INSTALL xfce4 dbus-x11;
        else $INSTALL xfce4 dbus; fi ;;
    install_cn)
        if [ "$PM" = "apt" ]; then DEBIAN_FRONTEND=noninteractive $INSTALL locales fonts-noto-cjk; echo 'zh_CN.UTF-8 UTF-8' > /etc/locale.gen; locale-gen;
        elif [ "$PM" = "pacman" ]; then $INSTALL noto-fonts-cjk; echo 'zh_CN.UTF-8 UTF-8' >> /etc/locale.gen; locale-gen;
        elif [ "$PM" = "apk" ]; then $INSTALL font-noto-cjk; fi
        if ! grep -q "LANG=zh_CN.UTF-8" /etc/profile; then echo 'export LANG=zh_CN.UTF-8' >> /etc/profile; fi
        if ! grep -q "LANG=zh_CN.UTF-8" ~/.bashrc; then echo 'export LANG=zh_CN.UTF-8' >> ~/.bashrc; fi ;;
    install_tools) $INSTALL wget git nano curl ;;
    install_fetch)
        if $INSTALL fastfetch; then echo "FETCH_TOOL=fastfetch" > /tmp/fetch_status;
        elif $INSTALL neofetch; then echo "FETCH_TOOL=neofetch" > /tmp/fetch_status;
        else echo "FETCH_TOOL=none" > /tmp/fetch_status; fi ;;
esac
WORKER_EOF
    chmod +x $PREFIX/tmp/xxy_worker.sh
}

# åå°è¿è¡Œå™¨ (ä½¿ç”¨å…±äº«ä¸´æ—¶ç›®å½•)
run_bg_safe() {
    local sys=$1; local task=$2; local desc=$3
    echo -ne "${Y}âš™ï¸  $desc ($sys)... ${NC}"
    create_worker_script
    proot-distro login "$sys" --shared-tmp -- /bin/sh /tmp/xxy_worker.sh "$task" >/dev/null 2>&1
    if [ $? -eq 0 ]; then echo -e "${G}âœ… å®Œæˆ${NC}"; else echo -e "${R}âš ï¸ å¤±è´¥/å·²è·³è¿‡${NC}"; fi
    rm -f $PREFIX/tmp/xxy_worker.sh
}

# --- ğŸ“¦ åŠŸèƒ½æ¨¡å— ---

# 1. ç™»å½• (åŒ…å«è‡ªåŠ¨æ³¨å…¥ç¾åŒ–é€»è¾‘)
f_login() {
    clear; echo -e "${C}=== ç™»å½•ç³»ç»Ÿ ===${NC}"
    
    # ç‰©ç†è·å–åˆ—è¡¨
    SYS_LIST=$(get_installed_systems)
    
    if [ -z "$SYS_LIST" ]; then 
        echo -e "${R}ğŸ˜­ æ£€æµ‹åˆ°æœªå®‰è£…ä»»ä½•ç³»ç»Ÿï¼è¯·å…ˆé€‰æ‹© [2] è¿›è¡Œå®‰è£…ã€‚${NC}"; read -p "æŒ‰å›è½¦è¿”å›..."; return
    fi
    
    SYS=($SYS_LIST)
    for i in "${!SYS[@]}"; do echo -e "${G}$((i+1)).${NC} ${SYS[$i]}"; done
    echo -e "${W}0.${NC} è¿”å›ä¸»èœå•"
    
    read -p "ğŸ‘‰ è¯·è¾“å…¥åºå·: " idx
    if [ "$idx" == "0" ]; then return; fi
    
    if [[ "$idx" =~ ^[0-9]+$ ]] && [ "$idx" -ge 1 ] && [ "$idx" -le "${#SYS[@]}" ]; then
        TARGET=${SYS[$((idx-1))]}
        
        echo -e "${P}ğŸ” æ­£åœ¨æ£€æŸ¥ç¯å¢ƒé…ç½® (Fastfetch/ä¸­æ–‡)...${NC}"
        create_worker_script
        # å°è¯•å®‰è£… Fetch å·¥å…·
        proot-distro login "$TARGET" --shared-tmp -- /bin/sh /tmp/xxy_worker.sh "install_fetch" >/dev/null 2>&1
        
        # æ³¨å…¥å¯åŠ¨è„šæœ¬åˆ° .bashrc
        INJECTor="RC=~/.bashrc; 
        sed -i '/fastfetch/d' \$RC; sed -i '/neofetch/d' \$RC;
        if [ -f /tmp/fetch_status ]; then . /tmp/fetch_status; [ \"\$FETCH_TOOL\" != \"none\" ] && echo \"\$FETCH_TOOL\" >> \$RC; rm -f /tmp/fetch_status; fi
        sed -i '/fcitx/d' \$RC"
        
        echo "$INJECTor" > $PREFIX/tmp/injector.sh
        proot-distro login "$TARGET" --shared-tmp -- /bin/sh /tmp/injector.sh >/dev/null 2>&1
        rm $PREFIX/tmp/injector.sh
        
        echo -e "${G}ğŸš€ å‡†å¤‡å°±ç»ªï¼æ­£åœ¨è¿›å…¥ $TARGET ...${NC}"
        proot-distro login $TARGET
    else
        echo -e "${R}è¾“å…¥é”™è¯¯ã€‚${NC}"; read -p "..."
    fi
}

# 2. å®‰è£… (ç‰©ç†é˜²é‡å¤æ£€æµ‹)
f_install() {
    clear; echo -e "${C}=== å®‰è£…æ–°ç³»ç»Ÿ ===${NC}"
    echo -e "${Y}æç¤ºï¼šå°ç™½å¼ºçƒˆå»ºè®®é€‰æ‹© Ubuntuï¼Œæ•™ç¨‹å¤šä¸”ç¨³å®šã€‚${NC}"
    OPTS=("ubuntu" "debian" "kali" "archlinux" "alpine")
    
    for i in "${!OPTS[@]}"; do echo -e "${W}$((i+1)).${NC} ${OPTS[$i]}"; done
    echo -e "${W}0.${NC} è¿”å›ä¸»èœå•"
    
    read -p "ğŸ‘‰ è¯·é€‰æ‹©: " idx
    if [ "$idx" == "0" ]; then return; fi
    
    if [[ "$idx" =~ ^[0-9]+$ ]] && [ "$idx" -ge 1 ] && [ "$idx" -le "${#OPTS[@]}" ]; then
        TARGET=${OPTS[$((idx-1))]}
        
        # ç‰©ç†æ£€æŸ¥æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ï¼Œé˜²æ­¢é‡å¤å®‰è£…è¦†ç›–æ•°æ®
        if [ -d "$PREFIX/var/lib/proot-distro/installed-rootfs/$TARGET" ]; then
            echo -e "${R}âš ï¸  æ£€æµ‹åˆ° $TARGET ç³»ç»Ÿæ–‡ä»¶å·²å­˜åœ¨ï¼${NC}"
            echo "ä¸ºä¿æŠ¤æ•°æ®ï¼Œç¦æ­¢è¦†ç›–å®‰è£…ã€‚å¦‚éœ€é‡è£…ï¼Œè¯·å…ˆå» [4] ç®¡ç†ç•Œé¢å¸è½½ã€‚"
            read -p "æŒ‰å›è½¦è¿”å›..."; return
        fi

        echo -e "${P}â³ å¼€å§‹ä¸‹è½½ $TARGET (è¯·ä¿æŒç½‘ç»œé€šç•…)...${NC}"
        if proot-distro install $TARGET; then
            # å…¨è‡ªåŠ¨æµæ°´çº¿
            echo -e "${C}ğŸ¤– æ­£åœ¨æ‰§è¡Œå…¨è‡ªåŠ¨åˆå§‹åŒ–...${NC}"
            run_bg_safe "$TARGET" "update" "æ›´æ–°è½¯ä»¶æº"
            run_bg_safe "$TARGET" "install_tools" "å®‰è£…åŸºç¡€å·¥å…·"
            run_bg_safe "$TARGET" "install_cn" "é…ç½®ä¸­æ–‡ç¯å¢ƒ"
            run_bg_safe "$TARGET" "install_fetch" "å®‰è£…ç¾åŒ–ç»„ä»¶"
            echo -e "${G}ğŸ‰ å®‰è£…æˆåŠŸï¼${NC}"
        else
            echo -e "${R}âŒ å®‰è£…å¤±è´¥(å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜ï¼Œè¯·æŒ‚æ¢¯å­é‡è¯•)${NC}"
        fi
    fi
    read -p "æŒ‰å›è½¦è¿”å›..."
}

# 3. æ¡Œé¢ (Termux:X11 æ·±åº¦é€‚é…)
f_gui() {
    clear; echo -e "${C}=== å¯åŠ¨æ¡Œé¢æ¨¡å¼ ===${NC}"
    SYS_LIST=$(get_installed_systems)
    if [ -z "$SYS_LIST" ]; then echo "æ— ç³»ç»Ÿ"; read -p "..."; return; fi
    
    SYS=($SYS_LIST)
    for i in "${!SYS[@]}"; do echo -e "${G}$((i+1)).${NC} ${SYS[$i]}"; done
    echo -e "${W}0.${NC} è¿”å›ä¸»èœå•"
    
    read -p "ğŸ‘‰ é€‰æ‹©è¦å¯åŠ¨çš„ç³»ç»Ÿ: " idx
    if [ "$idx" == "0" ]; then return; fi
    
    TARGET=${SYS[$((idx-1))]}
    
    echo -e "${P}ğŸ” æ­£åœ¨æ£€æµ‹æ¡Œé¢ç¯å¢ƒ...${NC}"
    # æ£€æŸ¥æ˜¯å¦å®‰è£…äº† XFCE
    proot-distro login "$TARGET" -- bash -c "command -v startxfce4" >/dev/null 2>&1
    if [ $? -ne 0 ]; then
        echo -e "${Y}æ£€æµ‹åˆ°æœªå®‰è£…æ¡Œé¢ï¼Œæ­£åœ¨è‡ªåŠ¨å®‰è£… (è€—æ—¶è¾ƒé•¿ï¼Œè¯·è€å¿ƒ)...${NC}"
        run_bg_safe "$TARGET" "update" "æ›´æ–°æº"
        run_bg_safe "$TARGET" "install_gui" "å®‰è£… XFCE4"
    fi

    echo -e "\n1. Termux:X11 ${G}(æ¨èï¼Œéœ€å®‰è£…APP)${NC}\n2. VNC Viewer ${GR}(ä¼ ç»Ÿæ¨¡å¼)${NC}\n0. å–æ¶ˆ"
    read -p "ğŸ‘‰ é€‰æ‹©æ¨¡å¼: " m
    if [ "$m" == "0" ]; then return; fi
    
    if [ "$m" == "1" ]; then
        if ! command -v termux-x11 &>/dev/null; then 
            echo -e "${R}âŒ æœªæ£€æµ‹åˆ° termux-x11 åŒ…ï¼${NC}"
            echo "è¯·æ‰§è¡Œ: pkg install termux-x11-nightly"
            read -p "..."; return
        fi
        
        echo -e "${P}ğŸ§¹ æ­£åœ¨æš´åŠ›æ¸…ç†æ—§è¿›ç¨‹ (é˜²æ­¢é»‘å±)...${NC}"
        pulseaudio --kill >/dev/null 2>&1
        pkill -f com.termux.x11 >/dev/null 2>&1
        rm -rf $PREFIX/tmp/.X11-unix # æ ¸å¿ƒï¼šæ¸…ç†é”æ–‡ä»¶
        
        # å¯åŠ¨æœåŠ¡
        pulseaudio --start --load="module-native-protocol-tcp auth-ip-acl=127.0.0.1 auth-anonymous=1" --exit-idle-time=-1
        termux-x11 :0 >/dev/null 2>&1 &
        
        echo -e "${G}âœ… å¯åŠ¨æˆåŠŸï¼è¯·ç«‹å³åˆ‡æ¢åˆ° Termux:X11 APP${NC}"
        CMD="export DISPLAY=:0 PULSE_SERVER=127.0.0.1; dbus-launch --exit-with-session startxfce4"
        proot-distro login "$TARGET" --shared-tmp -- bash -c "$CMD"
    else
        # VNC æ¨¡å¼
        echo -e "${P}ğŸ§¹ é‡ç½® VNC æœåŠ¡...${NC}"
        proot-distro login "$TARGET" -- bash -c "vncserver -kill :1; rm -rf /tmp/.X1-lock /tmp/.X11-unix/X1" >/dev/null 2>&1
        proot-distro login "$TARGET" -- bash -c "vncserver :1"
        echo -e "${G}åœ°å€: 127.0.0.1:5901${NC}"
        echo -e "å¯†ç : (é¦–æ¬¡è¿è¡Œä¼šæç¤ºè®¾ç½®ï¼Œé»˜è®¤æ— )"
        read -p "æŒ‰å›è½¦æŒ‚èµ·æœåŠ¡..."
    fi
}

# 4. ç®¡ç† (åŒé‡å¸è½½é€»è¾‘)
f_manage() {
    clear; echo -e "${R}=== å¸è½½ç³»ç»Ÿ (æ…ç”¨) ===${NC}"
    SYS_LIST=$(get_installed_systems)
    if [ -z "$SYS_LIST" ]; then echo "æ— ç³»ç»Ÿ"; read -p "..."; return; fi
    
    SYS=($SYS_LIST)
    for i in "${!SYS[@]}"; do echo "$((i+1)). ${SYS[$i]}"; done
    echo -e "${W}0. è¿”å›ä¸»èœå•${NC}"
    
    read -p "ğŸ‘‰ é€‰æ‹©è¦åˆ é™¤çš„ç³»ç»Ÿ: " idx
    if [ "$idx" == "0" ]; then return; fi
    
    TARGET=${SYS[$((idx-1))]}
    if [ -z "$TARGET" ]; then echo "æ— æ•ˆ"; read -p "..."; return; fi
    
    read -p "âš ï¸ è­¦å‘Šï¼šå°†æ°¸ä¹…åˆ é™¤ $TARGETï¼ç¡®è®¤? (è¾“å…¥yes): " c
    if [ "$c" == "yes" ]; then 
        # å°è¯•å¸¸è§„å¸è½½
        proot-distro remove $TARGET
        # ç‰©ç†è¡¥åˆ€ï¼šå¦‚æœå¸¸è§„å¸è½½å¤±è´¥ï¼Œå¼ºåˆ¶åˆ é™¤æ–‡ä»¶å¤¹
        if [ -d "$PREFIX/var/lib/proot-distro/installed-rootfs/$TARGET" ]; then
            echo -e "${R}âš ï¸ å¸¸è§„å¸è½½å¤±è´¥ï¼Œæ­£åœ¨æ‰§è¡Œæš´åŠ›ç‰©ç†åˆ é™¤...${NC}"
            chmod -R 777 "$PREFIX/var/lib/proot-distro/installed-rootfs/$TARGET"
            rm -rf "$PREFIX/var/lib/proot-distro/installed-rootfs/$TARGET"
        fi
        echo "ğŸ—‘ï¸ å·²åˆ é™¤"; 
    else 
        echo "å·²å–æ¶ˆ"; 
    fi
    read -p "..."
}

# --- UI å¼•æ“ ---
update_hud() {
    NOW=$(date "+%H:%M")
    # é™ä½åˆ·æ–°é¢‘ç‡èŠ‚çœç”µé‡
    if (( FRAME % 20 == 0 )); then
        BAT="N/A"
        # ä¾èµ–æ£€æŸ¥ï¼Œé˜²æ­¢æŠ¥é”™
        if command -v termux-battery-status &>/dev/null; then 
            BAT=$(termux-battery-status | grep percentage | awk '{print $2}' | tr -d ',')
        fi
        MEM=$(free -m | awk 'NR==2{printf "%.1fG", $3/1024}')
    fi
    tput cup 0 34; echo -e "${B}â•­â”€â”€ STATUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®${NC}"
    tput cup 1 34; printf "${B}â”‚${NC} TIME: ${W}%-5s${NC} BAT: ${G}%-4s${NC} MEM: ${P}%-5s${NC} ${B}â”‚${NC}\n" "$NOW" "$BAT" "$MEM"
    tput cup 2 34; echo -e "${B}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯${NC}"
}

draw_static() {
    clear
    echo -e "${C}â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— ${W}XXY ç»ˆæç‰ˆ${NC}"
    echo -e "${C}â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â• ${GR}v30.0 | ç‰©ç†æ ¸å¿ƒ/0å»¶è¿Ÿ${NC}"
    echo -e "${C} â•šâ–ˆâ–ˆâ–ˆâ•”â•  â•šâ–ˆâ–ˆâ–ˆâ•”â•  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  ${NC}"
    echo -e "${C} â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ•”â•   ${NC}"
    
    tput cup 8 0
    echo -e "${GR}â•­â”€â”€ [ å¸¸ç”¨åŠŸèƒ½ ] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â•­â”€â”€ [ æå®¢åŠŸèƒ½ ] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®${NC}"
    echo -e "${GR}â”‚${NC} ${W}1.${NC} ç™»å½•ç³»ç»Ÿ (Login)          ${GR}â”‚ â”‚${NC} ${W}4.${NC} å¸è½½ç³»ç»Ÿ (Uninstall)    ${GR}â”‚${NC}"
    echo -e "${GR}â”‚${NC} ${W}2.${NC} å®‰è£…æ–°ç³»ç»Ÿ (Install)      ${GR}â”‚ â”‚${NC} ${W}0.${NC} é€€å‡ºç¨‹åº (Exit)         ${GR}â”‚${NC}"
    echo -e "${GR}â”‚${NC} ${W}3.${NC} å¯åŠ¨æ¡Œé¢ (GUI Mode)       ${GR}â”‚ â”‚${NC}                                 ${GR}â”‚${NC}"
    echo -e "${GR}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯${NC}"
}

# --- ğŸš€ å¯åŠ¨å¾ªç¯ ---
tput civis; stty -echo; draw_static
USER_IN=""; FRAME=0; COLORS=($R $Y $G $C $B $P)

while true; do
    update_hud
    ((FRAME++))
    # åŠ¨æ€è¾¹æ¡†é¢œè‰²
    C_IDX=$((FRAME % 6)); CUR_C=${COLORS[$C_IDX]}
    tput cup 14 0; echo -e "${CUR_C}â•­â”€â”€ è¯·è¾“å…¥åºå· â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®${NC}"
    tput cup 15 0; echo -e "${CUR_C}â”‚${NC} ${C}â¤${NC} $USER_IN${W}â–ˆ${NC}                                            "
    tput cup 15 55; echo -e "${CUR_C}â”‚${NC}"
    tput cup 16 0; echo -e "${CUR_C}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯${NC}"

    read -t 0.1 -n 1 k
    if [[ $? -eq 0 ]]; then
        if [[ "$k" == "" ]]; then
            if [[ -n "$USER_IN" ]]; then
                tput cnorm; stty echo
                case $USER_IN in
                    1) f_login ;;
                    2) f_install ;;
                    3) f_gui ;;
                    4) f_manage ;;
                    0) clear; exit 0 ;;
                esac
                tput civis; stty -echo; draw_static; USER_IN=""
            fi
        elif [[ "$k" == $'\x7f' ]]; then USER_IN="${USER_IN%?}"
        elif [[ "$k" == $'\e' ]]; then read -t 0.01 -n 2
        else USER_IN="$USER_IN$k"
        fi
    fi
done
EOF
chmod +x $PREFIX/bin/xxy
echo -e "\033[1;32mâœ… XXY v30.0 ç»ˆæç‰ˆå·²å®‰è£…ï¼\nè¯·è¾“å…¥ xxy å¯åŠ¨ã€‚\033[0m"
